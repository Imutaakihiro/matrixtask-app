# プロダクト要求定義書 (Product Requirements Document)

## プロダクト概要

### 名称
**MatrixTask** - アイゼンハワーマトリクスによる行動指向Todoアプリ

### プロダクトコンセプト
- **さっと書いて、後で整理**: 受信箱にまず放り込み、後で分類することで入力の心理的障壁を下げる
- **分類から行動へ**: マトリクスは整理用、「今日やること」で実際の作業にフォーカス
- **Notionライクな操作感**: シンプルで直感的なUI、ショートカットと自然言語入力による爆速操作

### プロダクトビジョン
アイゼンハワーマトリクスの理論的価値を活かしつつ、「分類が面倒で続かない」という実用上の問題を解決する。
受信箱→マトリクス→今日やること、という自然な流れで、タスクの整理から実行までをシームレスにつなぐ。
完璧な分類よりも、実際の行動につながることを重視したタスク管理を実現する。

### 目的
- 個人ユーザーが重要度と緊急度でタスクを整理し、優先順位を明確にできる
- タスク入力の心理的障壁を下げ、継続的な利用を促進する
- マトリクスによる整理と、日々の実行を分離し、両立させる
- キーボード中心の操作で、思考を中断せずにタスク管理できる

## ターゲットユーザー

### プライマリーペルソナ: 佐藤美咲(32歳、プロダクトマネージャー)
- 複数のプロジェクトを並行して管理
- タスク管理ツールを複数試したが、入力が面倒で続かなかった経験あり
- Notionやその他のシンプルなツールを好む
- 現在の課題: タスクの優先順位付けに時間がかかり、重要なことが後回しになりがち
- 期待する解決策: パッと見て優先順位がわかり、今日やるべきことに集中できる仕組み
- 1日の典型的なワークフロー:
  - 朝: メール・Slackで入ってきたタスクを確認し、今日やることを決める
  - 日中: 突発的なタスクが入るたびに、重要度を判断して対応
  - 夕方: 未完了タスクの整理と明日の計画

## 成功指標(KPI)

### プライマリーKPI
- **継続利用率**: 初回利用から1週間後も利用しているユーザー50%以上(3ヶ月後)
- **タスク完了率**: 「今日やること」に追加したタスクの完了率70%以上
- **1日あたりの平均タスク追加数**: 5件以上(アクティブユーザー)

### セカンダリーKPI
- **受信箱からマトリクスへの分類率**: 受信箱に追加したタスクの80%が24時間以内に分類される
- **平均タスク入力時間**: 1タスクあたり10秒以内
- **ショートカット使用率**: アクティブユーザーの60%がショートカットを利用

## 機能要件

### コア機能(MVP)

#### 1. 受信箱

**ユーザーストーリー**:
ユーザーとして、タスクの重要度や緊急度を考えずにまず記録するために、受信箱機能が欲しい

**受け入れ条件**:
- [ ] マトリクス上部にインライン表示される
- [ ] 「+ タスクを追加...」プレースホルダーをクリックで入力開始
- [ ] Enterキーで即座にタスクが追加される
- [ ] 追加されたタスクは受信箱内にリスト表示される
- [ ] 受信箱からマトリクスへドラッグ&ドロップで移動できる

**優先度**: P0(必須)

#### 2. マトリクス表示

**ユーザーストーリー**:
ユーザーとして、タスクを重要度と緊急度で分類し、全体像を把握するために、4象限のマトリクスビューが欲しい

**受け入れ条件**:
- [ ] 4つの象限が常時表示される（重要×緊急、重要×緊急でない、重要でない×緊急、重要でない×緊急でない）
- [ ] 各象限にタスクがカード形式で表示される
- [ ] 各象限のタスク数がバッジで表示される
- [ ] 象限間でドラッグ&ドロップによるタスク移動が可能
- [ ] 空の象限にもドロップエリアが明確に示される

**優先度**: P0(必須)

#### 3. 今日やること

**ユーザーストーリー**:
ユーザーとして、マトリクス全体ではなく今日実行すべきタスクに集中するために、「今日やること」ビューが欲しい

**受け入れ条件**:
- [ ] 画面右サイドに固定表示される
- [ ] マトリクスからドラッグ&ドロップでピン留めできる
- [ ] タスクの完了チェックボックスが表示される
- [ ] 完了したタスクはリストから自動的に消える（アーカイブ）
- [ ] 未完了タスクは翌日も表示される

**優先度**: P0(必須)

#### 4. タスクのCRUD操作

**ユーザーストーリー**:
ユーザーとして、タスクの作成・編集・削除を簡単に行うために、基本的なCRUD操作が欲しい

**受け入れ条件**:
- [ ] タスクをクリックで詳細モーダルが開く
- [ ] タスク名、説明、期限、タグを編集できる
- [ ] 削除ボタンで確認ダイアログを経て削除できる
- [ ] Escキーでモーダルを閉じられる
- [ ] 変更は即座に保存される

**優先度**: P0(必須)

#### 5. ドラッグ&ドロップ操作

**ユーザーストーリー**:
ユーザーとして、タスクを視覚的に移動させるために、ドラッグ&ドロップ操作が欲しい

**受け入れ条件**:
- [ ] 受信箱からマトリクスの各象限へドラッグ&ドロップ可能
- [ ] マトリクスの象限間でドラッグ&ドロップ可能
- [ ] マトリクスから「今日やること」へドラッグ&ドロップ可能
- [ ] ドラッグ中のタスクは半透明で表示される
- [ ] ドロップ可能なエリアはハイライト表示される
- [ ] ドロップ後、即座にUIが更新される

**優先度**: P0(必須)

#### 6. キーボードショートカット

**ユーザーストーリー**:
ユーザーとして、マウスを使わずに素早く操作するために、キーボードショートカットが欲しい

**受け入れ条件**:
- [ ] `Ctrl+K` (macOS: `Cmd+K`)で素早くタスク追加モーダルを開ける
- [ ] Enterキーでタスクを追加できる
- [ ] Escキーでモーダルやダイアログを閉じられる
- [ ] `?`キーでショートカット一覧を表示できる
- [ ] タブキーでフォーカス移動できる

**優先度**: P0(必須)

#### 7. 自然言語入力

**ユーザーストーリー**:
ユーザーとして、タスクを自然な文章で入力し、自動的にパースされるために、自然言語入力機能が欲しい

**受け入れ条件**:
- [ ] 「明日までにレポート作成 #重要」のような入力が可能
- [ ] 「明日まで」「来週」などの期限表現を認識し、期限として設定される
- [ ] `#重要` `#緊急` のようなハッシュタグを認識し、タグとして設定される
- [ ] パースされた情報（期限、タグ）が視覚的にプレビュー表示される
- [ ] パース失敗時も元の文字列はタスク名として保存される

**優先度**: P0(必須)

### 将来的な機能(Post-MVP)

#### 8. タイムライン機能

時間軸での視覚化。「今日やること」サイドバーに8:00、9:00...と時間軸を表示し、タスクをドラッグ&ドロップで時間ブロックに配置できる。Google Calendar的な時間管理。

**優先度**: P2(できれば)

#### 9. ポモドーロタイマー統合

タスク実行時にポモドーロタイマーを開始し、集中時間を計測。

**優先度**: P2(できれば)

#### 10. 週次レビュー機能

週末に完了タスクと未完了タスクをレビューし、翌週の計画を立てる専用ビュー。

**優先度**: P2(できれば)

#### 11. AI分類提案

過去の分類パターンから、新しいタスクの象限をAIが提案。

**優先度**: P2(できれば)

#### 12. 定期タスク・テンプレート機能

毎週・毎月繰り返すタスクをテンプレートとして登録し、自動生成。

**優先度**: P2(できれば)

#### 13. 統計・振り返り機能

完了タスク数、象限ごとの時間配分などを可視化し、自己分析を支援。

**優先度**: P2(できれば)

## 非機能要件

### パフォーマンス
- **初回ロード時間**: 2秒以内（通常のブロードバンド環境）
- **タスク追加のレスポンス**: 100ms以内にUIが更新される
- **ドラッグ&ドロップの遅延**: 60fps以上で滑らかなアニメーション
- **タスク一覧表示**: 500件のタスクまで遅延なく表示される

### ユーザビリティ
- **学習時間**: 新規ユーザーが5分以内に基本操作（タスク追加、マトリクスへの分類、今日やることへのピン留め）を完了できる
- **操作フィードバック**: すべてのユーザー操作に対して視覚的なフィードバック（ホバー、クリック、ドラッグ）がある
- **エラーメッセージ**: 操作失敗時に明確なエラーメッセージと回復方法が表示される
- **レスポンシブデザイン**: デスクトップ（1280px以上）で最適化、タブレット・スマートフォンは将来対応

### 信頼性
- **データ損失防止**: すべてのタスク操作は即座にローカルストレージに保存される
- **操作の取り消し**: タスク削除などの重要な操作は確認ダイアログを表示する
- **オフライン対応**: オフライン時もタスクの追加・編集・削除が可能（ローカルストレージベース）
- **データ復元**: ブラウザを閉じても、次回起動時にすべてのデータが復元される

### セキュリティ
- **個人情報の取り扱い**: タスクデータはすべてユーザーのブラウザに保存され、外部サーバーに送信されない（MVP）
- **XSS対策**: ユーザー入力は適切にサニタイズされ、XSS攻撃を防ぐ
- **データのエクスポート**: ユーザーはいつでもJSONまたはMarkdown形式でデータをエクスポートできる

### スケーラビリティ
- **タスク数の上限**: MVP段階では500タスクまでスムーズに動作する
- **将来的なクラウド同期**: 将来的にクラウド同期機能を追加する際の拡張性を考慮した設計

## スコープ外

明示的にスコープ外とする項目:
- **マルチユーザー・チーム機能**: MVP段階では個人利用に限定し、チームでの共有やコラボレーション機能は含まない
- **モバイルアプリ**: MVP段階ではWebアプリのみ。ネイティブモバイルアプリは含まない
- **クラウド同期**: MVP段階ではローカルストレージのみ。複数デバイス間の同期は含まない
- **通知機能**: 期限が近づいた際のプッシュ通知やリマインダーは含まない
- **高度な分析機能**: タスクの傾向分析、生産性レポートなどはPost-MVPで検討
- **サードパーティ統合**: Google Calendar、Slack、Trelloなどとの連携は含まない
